<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>US Expenses in Iran Tracker</title>
  <style>
    body { background:#0d1117; color:#f0f6fc; font-family:sans-serif;
           display:flex; flex-direction:column; align-items:center;
           justify-content:center; height:100vh; margin:0; text-align:center; }
    #counter { font-size:4rem; color:#ef4444; }
    #label { font-size:1.2rem; color:#9ca3af; margin-bottom:1rem; }
    #controls button { padding:.6rem 1.2rem; margin:.3rem;
      font-size:1rem; border:none; border-radius:8px;
      background:#1f2937; color:#f9fafb; cursor:pointer;
      transition:background .2s; }
    #controls button:hover { background:#374151; }
    #info { margin-top:1.5rem; font-size:1rem; color:#d1d5db; }
  </style>
</head>
<body>

  <div id="counter">$103,000,000.00</div>
  <div id="label">US Expenses in Iran (Live Tracker)</div>

  <div id="controls">
    <button onclick="toggleMode()">Toggle Mode: <span id="mode">Simulated</span></button>
    <button onclick="location.href='about.html'">About This Tracker</button>
  </div>

  <div id="info">
    <div>üïí UTC Time: <span id="utcTime">--:--:--</span></div>
    <div>‚è≥ Time Elapsed: <span id="elapsedTime">0s</span></div>
  </div>

  <script>
    const initialCost = 103000000;
    const ratePerSecond = 778;
    const warStartTime = new Date(Date.UTC(2025,5,21,0,0,0));
    let isSim = true;

    const counterEl = document.getElementById('counter');
    const modeEl = document.getElementById('mode');
    const utcEl = document.getElementById('utcTime');
    const elapsedEl = document.getElementById('elapsedTime');

    function fmtUSD(a){return '$'+a.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2});}
    function fmtTime(s){
      const h=Math.floor(s/3600), m=Math.floor((s%3600)/60), secs=Math.floor(s%60);
      return `${h}h ${m}m ${secs}s`;
    }

    function update(){
      const now=new Date();
      const elapsedSec=(now-warStartTime)/1000;
      const cost = initialCost + (isSim? ratePerSecond * elapsedSec : 0);
      counterEl.textContent = fmtUSD(cost);
      utcEl.textContent = now.toUTCString().split(' ')[4];
      elapsedEl.textContent = fmtTime(elapsedSec);
      requestAnimationFrame(update);
    }

    function toggleMode(){
      isSim = !isSim;
      modeEl.textContent = isSim ? 'Simulated' : 'Confirmed Only';
    }

    update();
  </script>

</body>
</html>
